!function(t){"use strict";var e=".validator",a={events:null,selector:null,validationAttribute:"validations",preventDefault:!1,preventDefaultIfInvalid:!1,callback:function(){},done:function(){}},i={parseRules:function(e){var a,i=[];return t.each(e.split("|"),function(t,e){a=e.split(":"),i.push({method:"validate_"+a[0],params:a[1]?"regex"!==a[0].toLowerCase()?a[1].split(","):a[1]:[],original:e})}),i},hasRule:function(t){for(var e in this.rules)if(this.rules.hasOwnProperty(e))if(t.constructor===Array){for(var a in t)if(t.hasOwnProperty(a)&&this.rules[e].method==="validate_"+t[a])return!0}else if(this.rules[e].method==="validate_"+t)return!0;return!1},validate:function(e){var a=e.selector,n=e.validationAttribute,r=e.callback,l=!0;return t(a).each(function(){var a=t(this).data(n),u=t(this).attr("name"),s=t(this).val(),o=[],d=[],c=null,v=!0;return a&&u?(i.rules=o=i.parseRules(a),t.each(o,function(t,a){var n;return i.validatable(a,u,s)?(c=i[a.method]||e[a.method],n=c?c.apply(i,[u,s,a.params]):!1,v=v&&n,void(n||d.push(a.original))):!0}),r(this,v,d.join("|")),void(l=l&&v)):!0}),l},validatable:function(t,e,a){return this.validate_required(e,a)||this.implicit(t)},implicit:function(t){return"validate_required"===t.method||"validate_required_with"===t.method||"validate_accepted"===t.method},size:function(t,e){return this.validate_numeric(t,e)&&this.hasRule(["numeric","integer"])?parseFloat(e):e.replace(/\r?\n/g,"\r\n").length},validate_match:function(t,e,a){a instanceof Array||(a=[a]),e instanceof Array||(e=[e]);var i=0,n=a[0];for(n instanceof RegExp||(n=n.replace(/\/?([^\/]*)\/?/,"$1"),n=new RegExp(n)),i=0;i<e.length;i++)if(null!==e[i]&&null!==e[i].match(n))return!0;return!1},validate_regex:function(t,e,a){return this.validate_match(t,e,a)},validate_required:function(e,a){return t('[name="'+e+'"]').first().is(":radio")?void 0!==t('[name="'+e+'"]:checked').val():this.validate_match(e,a,/[^\s]+/)},validate_required_with:function(e,a,i){return this.validate_required(i[0],t('[name="'+i[0]+'"]').val())?this.validate_required(e,a):!0},validate_exists_id:function(){return!0},validate_confirmed:function(t,e){return this.validate_same(t,e,[t+"_confirmation"])},validate_accepted:function(e,a){var i=t('[name="'+e+'"]');return i.is(":checkbox")?i.is(":checked"):this.validate_match(e,a,/^(yes|1)$/)},validate_same:function(e,a,i){return a===t('[name="'+i[0]+'"]').val()},validate_different:function(e,a,i){return a!==t('[name="'+i[0]+'"]').val()},validate_date:function(t,e){return!/Invalid|NaN/.test(new Date(e).toString())},validate_numeric:function(t,e){return this.validate_match(t,e,/^-?\d+(\.\d*)?$/)},validate_integer:function(t,e){return this.validate_match(t,e,/^-?\d+$/)},validate_size:function(t,e,a){return this.size(t,e)===parseFloat(a[0])},validate_between:function(t,e,a){var i=this.size(t,e);return i>=parseFloat(a[0])&&i<=parseFloat(a[1])},validate_digits_between:function(t,e,a){var i=e.length;return i>=parseInt(a[0])&&i<=parseInt(a[1])},validate_min:function(t,e,a){return this.size(t,e)>=parseFloat(a[0])},validate_max:function(t,e,a){return this.size(t,e)<=parseFloat(a[0])},validate_in:function(e,a,i){return t.inArray(a,i)>=0},validate_not_in:function(e,a,i){return t.inArray(a,i)<0},validate_unique:function(){return!0},validate_exists:function(){return!0},validate_ip:function(t,e){var a=e.split(".");return 4===a.length&&this.validate_between(t,a[0],[1,255])&&this.validate_between(t,a[1],[0,255])&&this.validate_between(t,a[2],[0,255])&&this.validate_between(t,a[3],[1,255])?!0:!1},validate_email:function(t,e){return this.validate_match(t,e,/^[A-Z0-9._%+\-]+@[A-Z0-9.\-]+\.[A-Z]{2,4}$/i)},validate_url:function(t,e){return this.validate_match(t,e,/^(https?|ftp):\/\/[^\s\/$.?#].[^\s]*$/i)},validate_active_url:function(t,e){return this.validate_url(t,e)},validate_image:function(t,e){return this.validate_mimes(t,e,["jpg","png","gif","bmp"])},validate_alpha:function(t,e){return this.validate_match(t,e,/^([a-z])+$/i)},validate_alpha_num:function(t,e){return this.validate_match(t,e,/^([a-z0-9])+$/i)},validate_alpha_dash:function(t,e){return this.validate_match(t,e,/^([a-z0-9_\-])+$/i)},validate_mimes:function(t,e,a){var i,n;for(i=0;i<a.length;i++)if(n=new RegExp("\\."+a[i]+"$"),this.validate_match(t,e,n))return!0;return!1},validate_before:function(t,e,a){return Date.parse(e)<Date.parse(a[0])},validate_after:function(t,e,a){return Date.parse(e)>Date.parse(a[0])}},n={make:function(n){var r=n.selector;return"undefined"===n&&t.error("jQuery"+e+" may not be intialized without options."),n=t.extend({},a,n),n.events=n.events.replace(/(\w+)/g,"$1"+e+" "),this.each(function(){t(this).on(n.events,function(t){var e;n.selector=r||this,e=i.validate(n),(!e&&n.preventDefaultIfInvalid||n.preventDefault)&&t.preventDefault(),n.done&&n.done(e)})}),this},destroy:function(){return this.each(function(){t(this).off(e)}),this}};t.fn.validator=function(a){return n[a]?n[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?(t.error("Method "+a+" does not exist on jQuery"+e),this):n.make.apply(this,arguments)}}(jQuery);
